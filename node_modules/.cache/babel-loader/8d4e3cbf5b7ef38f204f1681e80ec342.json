{"ast":null,"code":"import _slicedToArray from\"/Users/teresita/Documents/Test_/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import classes from\"./Dropdown.module.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";var SelectComponent=/*#__PURE__*/React.forwardRef(function(_ref,ref){var options=_ref.options,_ref$placeholder=_ref.placeholder,placeholder=_ref$placeholder===void 0?\"\":_ref$placeholder,onChange=_ref.onChange,selectedKey=_ref.selectedKey,open=_ref.open,setOpen=_ref.setOpen;var _useState=useState(placeholder),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];useEffect(function(){if(selectedKey){setInputValue(options.find(function(o){return o.key===selectedKey;}).value);}},[selectedKey,options]);useEffect(function(){if(!open&&options.findIndex(function(o){return o.value===inputValue;})===-1){if(!inputValue){onChange(\"\");}else{if(selectedKey){setInputValue(options.find(function(o){return o.key===selectedKey;}).value);}else{setInputValue(\"\");}}}},[open,options,selectedKey,inputValue,onChange]);var onOptionSelected=function onOptionSelected(option){onChange!==undefined&&onChange(option.key);onChange!==undefined&&setInputValue(option.value);setOpen(false);};return/*#__PURE__*/_jsx(\"div\",{className:classes,ref:ref,children:/*#__PURE__*/_jsx(\"div\",{className:\"dropdown \".concat(open?\"visible\":\"\"),children:options.filter(function(item){var searchTerm=inputValue.toLowerCase();var v=item.value.toLowerCase();if(!searchTerm)return true;return v.startsWith(searchTerm);}).map(function(opt){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onOptionSelected(opt);},className:classes.option,value:opt.key,children:opt.value},opt.key);})})});});export default SelectComponent;","map":{"version":3,"names":["React","useEffect","useState","classes","SelectComponent","forwardRef","ref","options","placeholder","onChange","selectedKey","open","setOpen","inputValue","setInputValue","find","o","key","value","findIndex","onOptionSelected","option","undefined","filter","item","searchTerm","toLowerCase","v","startsWith","map","opt"],"sources":["/Users/teresita/Documents/Test_/src/components/Dropdown/SelectComponent.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport classes from \"./Dropdown.module.scss\";\n\nconst SelectComponent = React.forwardRef(\n  (\n    { options, placeholder = \"\", onChange, selectedKey, open, setOpen },\n    ref\n  ) => {\n    const [inputValue, setInputValue] = useState(placeholder);\n\n    useEffect(() => {\n      if (selectedKey) {\n        setInputValue(options.find((o) => o.key === selectedKey).value);\n      }\n    }, [selectedKey, options]);\n\n    useEffect(() => {\n      if (!open && options.findIndex((o) => o.value === inputValue) === -1) {\n        if (!inputValue) {\n          onChange(\"\");\n        } else {\n          if (selectedKey) {\n            setInputValue(options.find((o) => o.key === selectedKey).value);\n          } else {\n            setInputValue(\"\");\n          }\n        }\n      }\n    }, [open, options, selectedKey, inputValue, onChange]);\n\n    const onOptionSelected = (option) => {\n      onChange !== undefined && onChange(option.key);\n      onChange !== undefined && setInputValue(option.value);\n      setOpen(false);\n    };\n\n    return (\n      <div className={classes} ref={ref}>\n        <div className={`dropdown ${open ? \"visible\" : \"\"}`}>\n          {options\n            .filter((item) => {\n              const searchTerm = inputValue.toLowerCase();\n              const v = item.value.toLowerCase();\n\n              if (!searchTerm) return true;\n\n              return v.startsWith(searchTerm);\n            })\n            .map((opt) => (\n              <div\n                key={opt.key}\n                onClick={() => onOptionSelected(opt)}\n                className={classes.option}\n                value={opt.key}\n              >\n                {opt.value}\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default SelectComponent;"],"mappings":"qHAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,QAAP,KAAoB,wBAApB,C,2CAEA,GAAMC,gBAAe,cAAGJ,KAAK,CAACK,UAAN,CACtB,cAEEC,GAFF,CAGK,IAFDC,QAEC,MAFDA,OAEC,uBAFQC,WAER,CAFQA,WAER,2BAFsB,EAEtB,kBAF0BC,QAE1B,MAF0BA,QAE1B,CAFoCC,WAEpC,MAFoCA,WAEpC,CAFiDC,IAEjD,MAFiDA,IAEjD,CAFuDC,OAEvD,MAFuDA,OAEvD,CACH,cAAoCV,QAAQ,CAACM,WAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eAEAb,SAAS,CAAC,UAAM,CACd,GAAIS,WAAJ,CAAiB,CACfI,aAAa,CAACP,OAAO,CAACQ,IAAR,CAAa,SAACC,CAAD,QAAOA,EAAC,CAACC,GAAF,GAAUP,WAAjB,EAAb,EAA2CQ,KAA5C,CAAb,CACD,CACF,CAJQ,CAIN,CAACR,WAAD,CAAcH,OAAd,CAJM,CAAT,CAMAN,SAAS,CAAC,UAAM,CACd,GAAI,CAACU,IAAD,EAASJ,OAAO,CAACY,SAAR,CAAkB,SAACH,CAAD,QAAOA,EAAC,CAACE,KAAF,GAAYL,UAAnB,EAAlB,IAAqD,CAAC,CAAnE,CAAsE,CACpE,GAAI,CAACA,UAAL,CAAiB,CACfJ,QAAQ,CAAC,EAAD,CAAR,CACD,CAFD,IAEO,CACL,GAAIC,WAAJ,CAAiB,CACfI,aAAa,CAACP,OAAO,CAACQ,IAAR,CAAa,SAACC,CAAD,QAAOA,EAAC,CAACC,GAAF,GAAUP,WAAjB,EAAb,EAA2CQ,KAA5C,CAAb,CACD,CAFD,IAEO,CACLJ,aAAa,CAAC,EAAD,CAAb,CACD,CACF,CACF,CACF,CAZQ,CAYN,CAACH,IAAD,CAAOJ,OAAP,CAAgBG,WAAhB,CAA6BG,UAA7B,CAAyCJ,QAAzC,CAZM,CAAT,CAcA,GAAMW,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,MAAD,CAAY,CACnCZ,QAAQ,GAAKa,SAAb,EAA0Bb,QAAQ,CAACY,MAAM,CAACJ,GAAR,CAAlC,CACAR,QAAQ,GAAKa,SAAb,EAA0BR,aAAa,CAACO,MAAM,CAACH,KAAR,CAAvC,CACAN,OAAO,CAAC,KAAD,CAAP,CACD,CAJD,CAMA,mBACE,YAAK,SAAS,CAAET,OAAhB,CAAyB,GAAG,CAAEG,GAA9B,uBACE,YAAK,SAAS,oBAAcK,IAAI,CAAG,SAAH,CAAe,EAAjC,CAAd,UACGJ,OAAO,CACLgB,MADF,CACS,SAACC,IAAD,CAAU,CAChB,GAAMC,WAAU,CAAGZ,UAAU,CAACa,WAAX,EAAnB,CACA,GAAMC,EAAC,CAAGH,IAAI,CAACN,KAAL,CAAWQ,WAAX,EAAV,CAEA,GAAI,CAACD,UAAL,CAAiB,MAAO,KAAP,CAEjB,MAAOE,EAAC,CAACC,UAAF,CAAaH,UAAb,CAAP,CACD,CARF,EASEI,GATF,CASM,SAACC,GAAD,qBACH,YAEE,OAAO,CAAE,yBAAMV,iBAAgB,CAACU,GAAD,CAAtB,EAFX,CAGE,SAAS,CAAE3B,OAAO,CAACkB,MAHrB,CAIE,KAAK,CAAES,GAAG,CAACb,GAJb,UAMGa,GAAG,CAACZ,KANP,EACOY,GAAG,CAACb,GADX,CADG,EATN,CADH,EADF,EADF,CAyBD,CA1DqB,CAAxB,CA6DA,cAAeb,gBAAf"},"metadata":{},"sourceType":"module"}